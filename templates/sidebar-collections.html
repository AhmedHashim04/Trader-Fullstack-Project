<div class="glass-card mb-4">
    <div class="card-header bg-gradient-secondary text-white py-2 px-3">
        <i class="fas fa-star me-2"></i> Featured Collections
    </div>
    <div class="card-body p-3">
        <ul class="list-unstyled mb-0">
            {% for collection in featuredCollections %}
            <li class="mb-3 sidebar-collection-item">
                <a href="{% url 'features:collection_detail' collection.slug %}" class="d-flex align-items-center text-decoration-none sidebar-collection-link">
                    <div class="me-3" style="width:48px; height:48px; border-radius:8px; overflow:hidden; background:#f8f9fa; position:relative;">
                        <div class="d-flex flex-wrap w-100 h-100" style="position:absolute;top:0;left:0;">
                            {% for product in collection.products.all|slice:":4" %}
                                {% if product.image %}
                                <img src="{{ product.image.url }}" alt="{{ product.name }}" style="width:24px; height:24px; object-fit:cover; position:absolute; 
                                    {% if forloop.counter == 1 %}top:0;left:0;{% elif forloop.counter == 2 %}top:0;right:0;{% elif forloop.counter == 3 %}bottom:0;left:0;{% elif forloop.counter == 4 %}bottom:0;right:0;{% endif %} border-radius:4px;">
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                    <div class="flex-grow-1">
                        <div class="fw-semibold text-dark small mb-1">{{ collection.name }}</div>
                        <div class="text-muted small text-truncate" style="max-width: 140px;">{{ collection.description|truncatechars:40 }}</div>
                    </div>
                </a>
            </li>
            <style>
                .sidebar-collection-link:hover {
                    background-color: #f1f3f5;
                    border-radius: 8px;
                    color: #212529 !important;
                }
            </style>
            {% endfor %}
        </ul>
    </div>
</div>